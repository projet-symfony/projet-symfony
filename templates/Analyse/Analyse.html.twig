{%  extends "base.html.twig" %}

{% block title  %}
    Analyse
{% endblock %}

{%  block stylesheets %}

    <link rel="stylesheet" type="text/css" href="{{ asset('CSS/analyse.css') }}">
{% endblock %}

    {%  block body %}
        {% set test = 0 %}
        <h2> ANALYSE DE MATCH</h2>
        <hr class="separator">

        <ul>
            <li>

                <p class="detailMatch"> {{ jeu.heure|date('H:i:s') }} {{ jeu.date|date('Y-m-d') }} à {{ jeu.Lieu }}</p>
                <p class="teamMatch"> {{ jeu.equipes.first().NomEquipe }} -- {{ jeu.equipes.last().NomEquipe }} </p>
                <div class="result">
                    <button class="activeButton"> 1 </button>
                    <button class="otherButton" disabled> N </button>
                    <button class="otherButton" disabled> 2 </button>
                </div>

                <div class="cote">
                    <span class="activeCote">1.30</span>
                    <span class="otherCote">3.40</span>
                    <span class="otherCote">3.75</span> </div>
            </li>

        </ul>



        <div class="stade">
            <img src="" alt="stade">
        </div>
        <h3> Classement Actuel Des Clubs </h3>
        <div class="container mt-4">

            <table class="table table-striped">
                <thead>
                <tr class="entete">
                    <th> Clubs </th>
                    <th> Points </th>
                    <th> Joués </th>
                    <th> Gagnés </th>²
                    <th> Perdus </th>

                </tr>
                </thead>
                <tbody>
                <tr>

                    <td> {{ jeu.equipes.first().NomEquipe }} </td>
                    <td> {{jeu.equipes.first().points }} </td>
                    <td> {{ jeu.equipes.first().nbMatchJoue }} </td>
                    <td> {{jeu.equipes.first().nbMatchGagne}} </td>
                    <td> {{ jeu.equipes.first().nbMatchPerdu}} </td>
                </tr>
                <tr>

                    <td> {{ jeu.equipes.last().NomEquipe }} </td>
                    <td> {{ jeu.equipes.last().points }} </td>
                    <td> {{ jeu.equipes.last().nbMatchJoue }} </td>
                    <td> {{jeu.equipes.last().nbMatchGagne}} </td>
                    <td> {{jeu.equipes.last().nbMatchPerdu}} </td>
                </tr>


                </tbody>
            </table>
        </div>
        <h3> Forme </h3>
        <div class="Forme">
            <table id="team1">
                <thead>
                <tr class="entete">
                    <th> Club </th>
                    <th> score</th>
                    <th> club</th>

                </tr>
                </thead>

                <tbody>
                {% for e in jeu.equipes.first().getJeux()%}
                    {% if e.id != jeu.id %}

                        {% if test <5 %}
                            <tr>
                                <td> {{ e.equipes.first().NomEquipe }} </td>
                                <td> {{ e.score}} </td>
                                <td> {{ e.equipes.last().NomEquipe }} </td>
                            </tr>
                        {% endif %}
                        {%  set test = test+1 %}
                    {% endif %}
                {% endfor %}

                </tbody>

            </table>
            <table id="team2">
                <thead>
                <tr class="entete">
                    <th> Club </th>
                    <th> score</th>
                    <th> club</th>

                </tr>
                </thead>

                <tbody>
                {% set test = 0 %}
                {% for e in jeu.equipes.last().getJeux()%}
                    {% if e.id != jeu.id %}
                        {% if test <5 %}
                            <tr>
                                <td> {{ e.equipes.first().NomEquipe }} </td>
                                <td> {{ e.score}} </td>
                                <td> {{ e.equipes.last().NomEquipe }} </td>
                            </tr>
                        {% endif %}
                        {% set test = test + 1 %}
                    {% endif %}
                {% endfor %}
                </tbody>


            </table>


        </div>
        <h3> Face à Face </h3>
        <div class="Face">
            <table id="face">
                <tbody>
                {% set test = 0 %}
                {% for e in jeu.equipes.first().getJeux()%}
                    {% if (e.equipes.first().id == jeu.equipes.last().id and e.equipes.last().id == jeu.equipes.first().id) or (e.equipes.first().id == jeu.equipes.first().id and e.equipes.last().id == jeu.equipes.last().id)%}
                        {% if test <5 %}
                            <tr>
                                <td> {{ e.equipes.first().NomEquipe }} </td>
                                <td> {{ e.score}} </td>
                                <td> {{ e.equipes.last().NomEquipe }} </td>
                            </tr>
                        {% endif %}
                        {% set test = test+1 %}
                    {% endif %}
                {% endfor %}
                </tbody>

            </table>

        </div>
        <h3> Statique generale </h3>
        <div class="Statistique">
            <table id="team1">
                <thead>
                <tr class="entete">
                    <th> Club </th>
                    <th> type</th>
                    <th>values</th>

                </tr>
                </thead>
                <tbody>
                {% for stat in jeu.stats %}
                    {% if jeu.equipes.first().id == stat.getEquipeId() %}
                        <tr>
                            <td>{{ stat.getEquipe().NomEquipe}}</td>
                            <td>{{ stat.getType().name }}</td>
                            <td>{{ stat.value }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
            <table id="team2">
                <thead>
                <tr class="entete">
                    <th> Club </th>
                    <th> type</th>
                    <th>values</th>

                </tr>
                </thead>
                <tbody>
                {% for stat in jeu.stats %}
                    {% if jeu.equipes.last().id == stat.getEquipeId() %}
                        <tr>
                            <td>{{ stat.getEquipe().NomEquipe}}</td>
                            <td>{{ stat.getType().name }}</td>
                            <td>{{ stat.value }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
        </div>




    {% endblock %}